%% Definitions and theorems
\newtheorem{definition}{Definition}
\newtheorem{theorem}[definition]{Theorem}
\newtheorem{lemma}[definition]{Lemma}
\newtheorem{corollary}[definition]{Corollary}

\renewcommand\qedsymbol{$\blacksquare$}

%% Keywords
\newcommand{\ie}{\emph{i.e.,}}

%% Proper names
\newcommand{\Bluespec}{Bluespec}
\newcommand{\Kami}{Kami}

%% For Latex convenience
\newcommand{\refsect}[1]{Section~\ref{#1}}
\newcommand{\refdef}[1]{Definition~\ref{#1}}

%% Sets
\newcommand{\setconst}{\ensuremath{\mathcal{C}}}
\newcommand{\setregs}{\ensuremath{\mathcal{R}}}
\newcommand{\setrules}{\ensuremath{\mathcal{L}}}
\newcommand{\setmeths}{\ensuremath{\mathcal{F}}}

%% Syntax
\newcommand{\listof}[1]{\ensuremath{\overrightarrow{#1}}}
\newcommand{\wordlet}{\ensuremath{\textsf{let}\ }}
\newcommand{\wordassert}{\ensuremath{\textsf{assert}\ }}
\newcommand{\wordret}{\ensuremath{\textsf{return}\ }}
\newcommand{\wordin}{\ensuremath{\textsf{in}\ }}
\newcommand{\wordif}{\ensuremath{\textsf{if}\ }}
\newcommand{\wordthen}{\ensuremath{\textsf{then}\ }}
\newcommand{\wordelse}{\ensuremath{\textsf{else}\ }}

\newcommand{\pgmif}{\ensuremath{\textbf{if}\ }}
\newcommand{\pgmthen}{\ensuremath{\textbf{then}\ }}
\newcommand{\pgmelse}{\ensuremath{\textbf{else}\ }}

\newcommand{\seop}{\ensuremath{\textsf{op}}}
\newcommand{\eop}[1]{\ensuremath{\seop{}(\listof{#1})}}

\newcommand{\actwrite}[3]{\ensuremath{#1 := #2\,;\ #3}}
%% \newcommand{\actcall}[4]{\ensuremath{\wordlet{} #1 = #2(#3)\,;\ #4}}
\newcommand{\actcall}[4]{\ensuremath{#2(#3)\,;\ \lambda #1.#4}}
\newcommand{\actlet}[3]{\ensuremath{\wordlet{} #1\ \wordin{} \lambda #2.#3}}
\newcommand{\actifelse}[5]{\ensuremath{\wordif{} #1\ \wordthen{} #2\ \wordelse{} #3\,;\ \lambda #4.#5}}
\newcommand{\actassert}[2]{\ensuremath{\wordassert{} #1\,;\ #2}}
\newcommand{\actret}[1]{\ensuremath{\wordret{} #1}}

\newcommand{\regpair}[2]{\ensuremath{(#1, #2)}}
\newcommand{\rulepair}[2]{\ensuremath{(#1, #2)}}
\newcommand{\methodpair}[2]{\ensuremath{(#1, #2)}}
\newcommand{\modbasic}[3]{\ensuremath{(\listof{#1}, \listof{#2}, \listof{#3})}}
\newcommand{\modcomp}[2]{\ensuremath{#1 \oplus #2}}

%% Semantics

\newcommand{\btrue}{\ensuremath{\textsf{true}}}
\newcommand{\bfalse}{\ensuremath{\textsf{false}}}

\renewcommand{\emptyset}{\ensuremath{\varnothing}}
\newcommand{\emptymap}{\ensuremath{[]}}
\newcommand{\sttype}{\ensuremath{\setregs \stackrel{\textrm{\footnotesize{fin}}}{\longrightarrow} \setconst}}
\newcommand{\lbtype}{\ensuremath{\setmeths \stackrel{\textrm{\footnotesize{fin}}}{\longrightarrow} \setconst \times \setconst}}
\newcommand{\stupd}[3]{\ensuremath{#1 [ #2 \leftarrow #3 ]}}
\newcommand{\lblupd}[3]{\ensuremath{#1 [ #2 \leftarrow #3 ]}}

\newcommand{\denot}[1]{\ensuremath{\llbracket #1 \rrbracket}}
\newcommand{\ssemexpr}[1]{\ensuremath{\denot{#1}_{\textsf{e}}}}
\newcommand{\semexpr}[2]{\ensuremath{\ssemexpr{#1}\ #2}}

\newcommand{\semact}[5]{\ensuremath{#1 |- (#2) \Downarrow \langle #3, #4, #5 \rangle}}
\newcommand{\semlbl}[3]{\ensuremath{\langle #1, #2, #3 \rangle}}
\newcommand{\semsstepr}[4]{\ensuremath{\langle #1, #2 \rangle \Downarrow \langle #3, #4 \rangle}}
\newcommand{\semsstep}[6]{\ensuremath{\langle #1, #2 \rangle \Downarrow \langle #3, \semlbl{#4}{#5}{#6} \rangle}}
\newcommand{\semsss}[4]{\ensuremath{\langle #1, #2 \rangle \Downarrow^{\ast} \langle #3, #4 \rangle}}
\newcommand{\semstep}[4]{\ensuremath{#2 \stackrel[#1]{#4}{\longrightarrow} #3}}

\newcommand{\Substep}{Substep}
\newcommand{\Substeps}{Substeps}
\newcommand{\Step}{Step}

\newcommand{\alpharule}[1]{\ensuremath{\textsf{Rule}\ #1}}
\newcommand{\alphameth}{\ensuremath{\textsf{Meth}}}

\newcommand{\rulesofm}[1]{\ensuremath{\textsf{rulesOf}\ #1}}
\newcommand{\methsofm}[1]{\ensuremath{\textsf{methodsOf}\ #1}}
\newcommand{\callsofm}[1]{\ensuremath{\textsf{callsOf}\ #1}}
\newcommand{\callsofa}[1]{\ensuremath{\textsf{callsOfA}\ #1}}

\newcommand{\sdisj}[2]{\ensuremath{#1 \ast #2}}
\newcommand{\splus}[2]{\ensuremath{#1 \uplus #2}}
\newcommand{\domof}[1]{\ensuremath{\textsf{domain}\ #1}}

\newcommand{\ldisj}[2]{\ensuremath{#1 \ast #2}}
\newcommand{\lplus}[2]{\ensuremath{#1 \uplus #2}}

\newcommand{\annotof}[1]{\ensuremath{\textsf{annot}\ #1}}
\newcommand{\defsof}[1]{\ensuremath{\textsf{defs}\ #1}}
\newcommand{\callsof}[1]{\ensuremath{\textsf{calls}\ #1}}

\newcommand{\anndisj}[2]{\ensuremath{#1 \ast #2}}
\newcommand{\mdisj}[2]{\ensuremath{#1 \ast #2}}
\newcommand{\setdisj}[2]{\ensuremath{#1 \ast #2}}
\newcommand{\keysdisj}[2]{\ensuremath{\setdisj{\domof{#1}}{#2}}}

\newcommand{\annplus}[2]{\ensuremath{#1 \uplus #2}}
\newcommand{\mplus}[2]{\ensuremath{#1 \uplus #2}}

\newcommand{\wellhidden}[2]{\ensuremath{\textsf{wellHidden}\ #1\ #2}}
\newcommand{\hide}[1]{\ensuremath{\textsf{hide}\ #1}}

%% well-formedness

\newcommand{\wfdouble}[1]{\ensuremath{\textsf{WfDouble}\ #1}}
\newcommand{\wfcycle}[1]{\ensuremath{\textsf{WfCycle}\ #1}}

%% inlining

\newcommand{\concatsymb}{\ensuremath{::}}
\newcommand{\concataction}[2]{\ensuremath{#1 \concatsymb{} \lambda x.#2}}
\newcommand{\inlinedmsymb}{\ensuremath{\hookleftarrow}}
\newcommand{\inlinedm}[2]{\ensuremath{#1 \inlinedmsymb{} #2}}
